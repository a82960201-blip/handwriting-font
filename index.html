<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Handscript — Handwriting to Font</title>
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet"/>
  <!-- opentype.js: real font binary generation in the browser -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/opentype.js/1.3.4/opentype.min.js"></script>
</head>
<body>

<div class="noise"></div>

<header>
  <div class="logo">✍︎ <span>Handscript</span></div>
  <p class="tagline">Draw each character. Download a real .ttf font file.</p>
</header>

<main>

  <!-- ── 01: Draw ── -->
  <section class="section">
    <div class="step-label">01 — Draw</div>
    <h2>Draw your characters</h2>
    <p class="desc">Click any letter or number below, draw it on the canvas, then press <kbd>Save ✓</kbd>. It will auto-advance to the next character.</p>

    <div class="char-grid" id="charGrid"></div>

    <div class="canvas-panel">
      <div class="canvas-header">
        <span id="currentCharLabel">Select a character →</span>
        <div class="canvas-actions">
          <button id="clearBtn" class="btn-ghost">Clear</button>
          <button id="saveCharBtn" class="btn-primary">Save ✓</button>
        </div>
      </div>
      <div class="canvas-wrap">
        <canvas id="drawCanvas" width="300" height="300"></canvas>
        <div class="guide-lines"></div>
      </div>
      <p class="hint">Draw large and centered. Red line = baseline · Blue line = cap-height</p>
    </div>
  </section>

  <!-- ── 02: Preview ── -->
  <section class="section">
    <div class="step-label">02 — Preview</div>
    <h2>Preview your font</h2>
    <input id="previewInput" type="text" placeholder="Type something to preview your handwriting…" autocomplete="off" spellcheck="false"/>
    <canvas id="previewCanvas" style="width:100%;border-radius:10px;display:block;opacity:0;transition:opacity 0.3s;margin-top:1rem;"></canvas>
    <p class="hint" style="margin-top:0.5rem">Characters you haven't drawn yet appear dimmed.</p>
  </section>

  <!-- ── 03: Export ── -->
  <section class="section">
    <div class="step-label">03 — Export</div>
    <h2>Download your font</h2>
    <p class="desc">Give your font a name, then download it as a real <strong>.ttf</strong> font file you can install on your computer and use anywhere.</p>

    <div class="font-name-row">
      <label for="fontName">Font name</label>
      <input id="fontName" type="text" value="Handscript" maxlength="64" placeholder="MyHandwriting"/>
    </div>

    <div class="export-row">
      <button class="btn-primary big" id="downloadTtf">⬇ Download .ttf Font</button>
      <button class="btn-ghost big" id="downloadSvg">⬇ SVG Sheet</button>
      <button class="btn-ghost big" id="downloadJson">⬇ Save Progress</button>
    </div>

    <p class="hint" style="margin-top:0.5rem">Tip: Drag & drop your saved <em>.json</em> progress file back onto this page to continue later.</p>

    <div class="progress-info">
      <span id="savedCount">0</span> / <span id="totalCount">0</span> characters drawn
      <div class="prog-bar"><div class="prog-fill" id="progFill"></div></div>
    </div>
  </section>

  <!-- ── How to install ── -->
  <section class="section install-guide">
    <div class="step-label">04 — Install</div>
    <h2>How to install your font</h2>
    <div class="install-steps">
      <div class="install-step">
        <div class="install-num">1</div>
        <div>
          <strong>Download</strong> your <code>.ttf</code> file above.
        </div>
      </div>
      <div class="install-step">
        <div class="install-num">2</div>
        <div>
          <strong>Windows:</strong> Right-click the file → <em>Install for all users</em><br>
          <strong>macOS:</strong> Double-click → <em>Install Font</em><br>
          <strong>Linux:</strong> Copy to <code>~/.local/share/fonts/</code> → run <code>fc-cache -f</code>
        </div>
      </div>
      <div class="install-step">
        <div class="install-num">3</div>
        <div>
          Open any app (Word, Figma, Photoshop…) and search for <strong>"Handscript"</strong> (or your custom name) in the font picker.
        </div>
      </div>
    </div>
  </section>

</main>

<script src="js/ttf-generator.js"></script>
<script src="js/app.js"></script>
</body>
</html>
